(this["webpackJsonpbank-of-react"]=this["webpackJsonpbank-of-react"]||[]).push([[0],{31:function(t,e,n){},41:function(t,e,n){"use strict";n.r(e);var c=n(1),a=n.n(c),s=n(24),i=n.n(s),r=(n(31),n(23)),o=n(12),u=n(5),b=n(6),d=n(7),j=n(8),l=n(4),h=n(2),O=n(0),p=function(t){Object(d.a)(n,t);var e=Object(j.a)(n);function n(){return Object(u.a)(this,n),e.apply(this,arguments)}return Object(b.a)(n,[{key:"render",value:function(){return Object(O.jsxs)("div",{children:["Balance: ",this.props.accountBalance]})}}]),n}(c.Component),f=p,m=function(t){Object(d.a)(n,t);var e=Object(j.a)(n);function n(){return Object(u.a)(this,n),e.apply(this,arguments)}return Object(b.a)(n,[{key:"render",value:function(){return Object(O.jsxs)("div",{children:[Object(O.jsx)("img",{src:"https://picsum.photos/200/200",alt:"bank"}),Object(O.jsx)("h1",{children:"Bank of React"}),Object(O.jsx)(l.b,{to:"/userProfile",children:"User Profile"}),Object(O.jsx)("br",{}),Object(O.jsx)(l.b,{to:"/login",children:"Login"}),Object(O.jsx)("br",{}),Object(O.jsx)(l.b,{to:"/credits",children:"Credits"}),Object(O.jsx)("br",{}),Object(O.jsx)(l.b,{to:"/debits",children:"Debits"}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Object(O.jsx)(f,{accountBalance:this.props.accountBalance})]})}}]),n}(c.Component),x=m,v=function(t){Object(d.a)(n,t);var e=Object(j.a)(n);function n(){return Object(u.a)(this,n),e.apply(this,arguments)}return Object(b.a)(n,[{key:"render",value:function(){return Object(O.jsxs)("div",{children:[Object(O.jsx)("h1",{children:"User Profile"}),Object(O.jsxs)("div",{children:["Username: ",this.props.userName]}),Object(O.jsxs)("div",{children:["Member Since: ",this.props.memberSince]}),Object(O.jsx)("br",{}),Object(O.jsx)(l.b,{to:"/",children:"Return to Home"})]})}}]),n}(c.Component),g=v,L=function(t){Object(d.a)(n,t);var e=Object(j.a)(n);function n(t){var c;return Object(u.a)(this,n),(c=e.call(this,t)).handleChange=function(t){var e=Object(o.a)({},c.state.user);e.userName=t.target.value,c.setState({user:e})},c.handleSubmit=function(t){t.preventDefault(),console.log("submitted"),c.props.mockLogIn(c.state.user),c.setState({redirect:!0})},c.state={user:{userName:c.props.user.userName,password:""},redirect:!1},c}return Object(b.a)(n,[{key:"render",value:function(){return this.state.redirect?Object(O.jsx)(h.a,{to:"/userProfile"}):Object(O.jsxs)("div",{children:[Object(O.jsx)("h1",{children:"Login"}),Object(O.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(O.jsxs)("div",{children:[Object(O.jsx)("label",{children:"User Name"}),Object(O.jsx)("input",{type:"text",name:"userName",defaultValue:this.props.user.userName,onChange:this.handleChange})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("label",{children:"Password"}),Object(O.jsx)("input",{type:"password",name:"password"})]}),Object(O.jsx)("button",{children:"Log In"})]}),Object(O.jsx)("br",{}),Object(O.jsx)(l.b,{to:"/",children:"Return to Home"})]})}}]),n}(c.Component),S=n(19),B=n(14),C=function(t){Object(d.a)(n,t);var e=Object(j.a)(n);function n(t){var c;return Object(u.a)(this,n),(c=e.call(this,t)).handleChange=function(t,e){c.setState(Object(o.a)(Object(o.a)({},c.state),{},Object(B.a)({},e,t.target.value))),console.log(t.target.value)},c.handleSubmit=function(t){t.preventDefault();var e=c.state,n=e.creditList,a=e.accountBalance,s=e.description,i=e.amount,r=(new Date).toISOString(),o=(Number(a)+Number(i)).toFixed(2),u=n[n.length-1].id+1;c.setState({creditList:[].concat(Object(S.a)(n),[{id:u,description:s,amount:i,date:r}]),accountBalance:o},(function(){console.log(c.state),c.props.updateCredits(c.state.creditList,c.state.accountBalance)}))},c.state={description:"",amount:"",date:"",creditList:c.props.creditList,accountBalance:c.props.accountBalance},c}return Object(b.a)(n,[{key:"render",value:function(){var t=this,e=this.state,n=e.creditList,c=e.accountBalance;return Object(O.jsxs)("div",{children:[Object(O.jsx)("h1",{children:"Credits"}),Object(O.jsx)("ul",{children:n.map((function(t){return Object(O.jsxs)("li",{style:{listStyle:"none"},children:["".concat(t.description," : ").concat(t.amount," ").concat(t.date.slice(0,10))," "]})}))}),Object(O.jsxs)("div",{children:["Account balance : ","".concat(c)]}),Object(O.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(O.jsx)("input",{type:"text",value:this.state.description,onChange:function(e){t.handleChange(e,"description")},ref:"description"}),Object(O.jsx)("input",{type:"text",value:this.state.amount,onChange:function(e){t.handleChange(e,"amount")},ref:"amount"}),Object(O.jsx)("button",{children:"Add Credit"})]}),Object(O.jsx)(l.b,{to:"/",children:"Return to Home"})]})}}]),n}(c.Component),y=function(t){Object(d.a)(n,t);var e=Object(j.a)(n);function n(t){var c;return Object(u.a)(this,n),(c=e.call(this,t)).handleChange=function(t,e){c.setState(Object(o.a)(Object(o.a)({},c.state),{},Object(B.a)({},e,t.target.value))),console.log(t.target.value)},c.handleSubmit=function(t){t.preventDefault();var e=c.state,n=e.debitList,a=e.accountBalance,s=e.description,i=e.amount,r=(new Date).toISOString(),o=(Number(a)-Number(i)).toFixed(2),u=n[n.length-1].id+1;c.setState({debitList:[].concat(Object(S.a)(n),[{id:u,description:s,amount:i,date:r}]),accountBalance:o},(function(){console.log(c.state),c.props.updateDebits(c.state.debitList,c.state.accountBalance)}))},c.state={description:"",amount:"",date:"",debitList:c.props.debitList,accountBalance:c.props.accountBalance},c}return Object(b.a)(n,[{key:"render",value:function(){var t=this,e=this.state,n=e.debitList,c=e.accountBalance;return Object(O.jsxs)("div",{children:[Object(O.jsx)("h1",{children:"Debits"}),Object(O.jsx)("ul",{children:n.map((function(t){return Object(O.jsxs)("li",{style:{listStyle:"none"},children:["".concat(t.description," : ").concat(t.amount," ").concat(t.date.slice(0,10))," "]})}))}),Object(O.jsxs)("div",{children:["Account balance : ","".concat(c)]}),Object(O.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(O.jsx)("input",{type:"text",value:this.state.description,onChange:function(e){t.handleChange(e,"description")},ref:"description"}),Object(O.jsx)("input",{type:"text",value:this.state.amount,onChange:function(e){t.handleChange(e,"amount")},ref:"amount"}),Object(O.jsx)("button",{children:"Add Debit"})]}),Object(O.jsx)(l.b,{to:"/",children:"Return to Home"})]})}}]),n}(c.Component),k={accountBalance:1234567.89,creditList:[],debitList:[]},D=function(t){Object(d.a)(n,t);var e=Object(j.a)(n);function n(){var t;return Object(u.a)(this,n),(t=e.call(this)).mockLogIn=function(e){var n=Object(o.a)({},t.state.currentUser);n.userName=e.userName,t.setState({currentUser:n}),t.setState(k),t.updateBalance()},t.updateCredits=function(e,n){t.setState({creditList:e,accountBalance:n})},t.updateDebits=function(e,n){t.setState({debitList:e,accountBalance:n})},t.state={accountBalance:1234567.89,creditList:[],debitList:[],currentUser:{userName:"Joe Smith",memberSince:"11/22/99"}},t}return Object(b.a)(n,[{key:"updateBalance",value:function(){var t=this,e=0,n=0;this.state.creditList.forEach((function(t){e+=t.amount,console.log(e)})),this.state.debitList.forEach((function(t){n+=t.amount,console.log(n)})),this.setState({accountBalance:(e-n).toFixed(2)},(function(){return console.log(t.state.accountBalance)}))}},{key:"fetchData",value:function(){var t=this;Promise.all([fetch("https://johnnylaicode.github.io/api/credits.json"),fetch("https://johnnylaicode.github.io/api/debits.json")]).then((function(t){var e=Object(r.a)(t,2),n=e[0],c=e[1];return Promise.all([n.json(),c.json()])})).then((function(e){var n=Object(r.a)(e,2),c=n[0],a=n[1];t.setState({creditList:c,debitList:a},(function(){console.log(t.state.creditList,t.state.debitList),k=t.state,t.updateBalance()}))}))}},{key:"componentDidMount",value:function(){console.log("fetching"),this.fetchData()}},{key:"render",value:function(){var t=this;return Object(O.jsx)(l.a,{basename:"/bank-of-react/",children:Object(O.jsxs)("div",{children:[Object(O.jsx)(h.b,{exact:!0,path:"/",render:function(){return Object(O.jsx)(x,{accountBalance:t.state.accountBalance})}}),Object(O.jsx)(h.b,{exact:!0,path:"/userProfile",render:function(){return Object(O.jsx)(g,{userName:t.state.currentUser.userName,memberSince:t.state.currentUser.memberSince})}}),Object(O.jsx)(h.b,{exact:!0,path:"/login",render:function(){return Object(O.jsx)(L,{user:t.state.currentUser,mockLogIn:t.mockLogIn,updateCredits:t.updateCredits,updateDebits:t.updateDebits})}}),Object(O.jsx)(h.b,{exact:!0,path:"/credits",render:function(){return Object(O.jsx)(C,{accountBalance:t.state.accountBalance,creditList:t.state.creditList,updateCredits:t.updateCredits})}}),Object(O.jsx)(h.b,{exact:!0,path:"/debits",render:function(){return Object(O.jsx)(y,{accountBalance:t.state.accountBalance,debitList:t.state.debitList,updateDebits:t.updateDebits})}})]})})}}]),n}(c.Component),N=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,42)).then((function(e){var n=e.getCLS,c=e.getFID,a=e.getFCP,s=e.getLCP,i=e.getTTFB;n(t),c(t),a(t),s(t),i(t)}))};i.a.render(Object(O.jsx)(a.a.StrictMode,{children:Object(O.jsx)(D,{})}),document.getElementById("root")),N()}},[[41,1,2]]]);
//# sourceMappingURL=main.31a6a61a.chunk.js.map